## safety 数据共享和非线程安全
线程共享数据的情况就是多个线程访问同一个变量。
多个线程在访问同一个变量的时候会出现非线程安全问题。

非线程安全主要是指多个线程对同一个对象中的同一个实例变量进行操作时会出现值被更改、值不同步的情况，进而影响程序的执行流程。

可以通过给代码上锁的方式解决这个问题。在方法上加上 synchronized 关键字。

当一个线程调用一个方法前会先判断这个方法有没有上锁，如果上锁了说明有其他线程正在调用此方法。必须等其他线程对run()方法调用结束后才能执行run()。在等待的同时线程会不断尝试去拿这个锁，而且是多个线程同时去拿，谁拿到谁 执行。这样就实现了排队调用run()方法。

synchronized 可以在任意对象及方法上枷锁，而加锁的这段代码成为“互斥区”或者“临界区”。

## method 常用方法
- Thread.currentThread() 当前代码运行所在的线程
- Thread.currentThread().getName() 当前代码运行所在的线程名字
- getName() 当前线程的名字
- isAlive() 测试当前线程是否处于活动状态。什么是活动状态呢？活动状态就是线程已经启动且尚未终止。线程处于正在运行或准备开始运行的状态，就是认为线程是“存活”的。
- sleep() 作用是在指定的毫秒数内让当前“正在执行的线程”休眠（暂停执行）。这个正在执行的线程就是 “Thread.currentThread()” 返回的线程
- getId() 作用是放回线程唯一id

## 停止线程

停止线程意味着在线程处理完任务之前停掉正在做的操作，也就是放弃当前的操作。
停止一个线程可以使用 Thread.stop()方法，但最好不用它，虽然它可以停止一个正在运行的线程，但是这个方法是不安全的，而且已经被废弃。

大多数停止一个线程的操作使用 Thread.interrupt()方法，尽管方法的名称是“停止，终止”的意思，当这个方法不会终止一个正在运行的线程，还需要加入一个判断才能完成线程的停止。

Java中有三种方法可以停止正在运行的线程
1. 使用退出标志，使线程正常退出，也就是当run方法完成后线程终止
2. 使用 stop 方法强行终止线程，但是不推荐使用，因为 stop 和 suspend 及 resume 一样，都是作废过期的方法，使用它们产生不可预料的后果
3. 使用 interrupt 停止线程




